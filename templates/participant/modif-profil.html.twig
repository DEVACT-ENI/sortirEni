{% extends 'base.html.twig' %}

{% block title %}Modifier mon profil{% endblock %}

{% block stylesheets %}
    <link rel="stylesheet" href="{{ asset('styles/profilCss.css') }}">
{% endblock %}

{% block javascripts %}
    <script src="{{ asset('scripts/profilJs.js') }}"></script>
{% endblock %}

{% form_theme form "form/form_theme_profile.html.twig" %}

{% block body %}
    {% for message in app.flashes('success') %}
        <div class="alert alert-success">
            {{ message }}
        </div>
    {% endfor %}
    <div class="container">
        <div class="main-body">
            <div class="row">
                <div class="col-lg-4">
                    <div class="card">
                        <div class="card-body">
                            <div class="d-flex flex-column align-items-center text-center">
                                {% if file_exists(realpath('uploads/photos/photos/' ~ app.user.id ~ '.webp')) %}
                                    <img src="{{ asset('uploads/photos/photos/' ~ app.user.id ~ '.webp') }}"
                                         class="rounded-circle p-1 bg-primary margin-bottom" width="200"
                                         height="200"
                                         alt="User photo">
                                {% else %}
                                    <img src="{{ asset('default.webp') }}"
                                         class="rounded-circle p-1 bg-primary margin-bottom"
                                         width="110"
                                         alt="Default User photo">
                                {% endif %}
                                {{ form(formPhoto) }}
                                <div class="mt-3">
                                    <h4>{{ participant.username }}</h4>
                                    <p class="text-secondary mb-1">{{ participant.nom }} {{ participant.prenom }}</p>
                                    <p class="text-muted font-size-sm">{{ participant.campus.nom }}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-body">
                            <h3>Succès</h3>
                            <div class="row">
                                <div class="col-sm-4">
                                    <div class="card">
                                        <div class="card-body">
                                            <h6 class="d-flex align-items-center justify-content-center mb-3">Création</h6>
                                            {% if countSortiesCreees < 5 %}
                                                <img src="{{ asset('images/pointSucces.png') }}" width="100%">
                                            {% else %}
                                                <img src="{{ asset('images/success/successBronze.png') }}" width="100%">
                                            {% endif %}
                                            {% if countSortiesCreees < 10 %}
                                                <img src="{{ asset('images/pointSucces.png') }}" width="100%">
                                            {% else %}
                                                <img src="{{ asset('images/success/successArgent.png') }}" width="100%">
                                            {% endif %}
                                            {% if countSortiesCreees < 15 %}
                                                <img src="{{ asset('images/pointSucces.png') }}" width="100%">
                                            {% else %}
                                                <img src="{{ asset('images/success/successOr.png') }}" width="100%">
                                            {% endif %}
                                            {% if countSortiesCreees < 20 %}
                                                <img src="{{ asset('images/pointSucces.png') }}" width="100%">
                                            {% else %}
                                                <img src="{{ asset('images/success/successRubis.png') }}" width="100%">
                                            {% endif %}
                                            {% if countSortiesCreees < 25 %}
                                                <img src="{{ asset('images/pointSucces.png') }}" width="100%">
                                            {% else %}
                                                <img src="{{ asset('images/success/successPlatine.png') }}" width="100%">
                                            {% endif %}
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-4">
                                    <div class="card">
                                        <div class="card-body">
                                            <h6 class="d-flex align-items-center justify-content-center mb-3">Inscription</h6>
                                            {% if countSortiesInscrit < 10 %}
                                                <img src="{{ asset('images/pointSucces.png') }}" width="100%">
                                            {% else %}
                                                <img src="{{ asset('images/success/successBronze.png') }}" width="100%">
                                            {% endif %}
                                            {% if countSortiesInscrit < 15 %}
                                                <img src="{{ asset('images/pointSucces.png') }}" width="100%">
                                            {% else %}
                                                <img src="{{ asset('images/success/successArgent.png') }}" width="100%">
                                            {% endif %}
                                            {% if countSortiesInscrit < 20 %}
                                                <img src="{{ asset('images/pointSucces.png') }}" width="100%">
                                            {% else %}
                                                <img src="{{ asset('images/success/successOr.png') }}" width="100%">
                                            {% endif %}
                                            {% if countSortiesInscrit < 30 %}
                                                <img src="{{ asset('images/pointSucces.png') }}" width="100%">
                                            {% else %}
                                                <img src="{{ asset('images/success/successRubis.png') }}" width="100%">
                                            {% endif %}
                                            {% if countSortiesInscrit < 50 %}
                                                <img src="{{ asset('images/pointSucces.png') }}" width="100%">
                                            {% else %}
                                                <img src="{{ asset('images/success/successPlatine.png') }}" width="100%">
                                            {% endif %}
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-4">
                                    <div class="card">
                                        <div class="card-body">
                                            <h6 class="d-flex align-items-center justify-content-center mb-3">Annulation</h6>
                                            {% if countSortiesAnnulees < 1 %}
                                                <img src="{{ asset('images/pointSucces.png') }}" width="100%">
                                            {% else %}
                                                <img src="{{ asset('images/success/successBronze.png') }}" width="100%">
                                            {% endif %}
                                            {% if countSortiesAnnulees < 2 %}
                                                <img src="{{ asset('images/pointSucces.png') }}" width="100%">
                                            {% else %}
                                                <img src="{{ asset('images/success/successArgent.png') }}" width="100%">
                                            {% endif %}
                                            {% if countSortiesAnnulees < 5 %}
                                                <img src="{{ asset('images/pointSucces.png') }}" width="100%">
                                            {% else %}
                                                <img src="{{ asset('images/success/successOr.png') }}" width="100%">
                                            {% endif %}
                                            {% if countSortiesAnnulees < 7 %}
                                                <img src="{{ asset('images/pointSucces.png') }}" width="100%">
                                            {% else %}
                                                <img src="{{ asset('images/success/successRubis.png') }}" width="100%">
                                            {% endif %}
                                            {% if countSortiesAnnulees < 10 %}
                                                <img src="{{ asset('images/pointSucces.png') }}" width="100%">
                                            {% else %}
                                                <img src="{{ asset('images/success/successPlatine.png') }}" width="100%">
                                            {% endif %}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-8">
                    <div class="card">
                        <div class="card-body">
                            {{ form_start(form) }}
                            {{ form_row(form.username) }}
                            {{ form_row(form.prenom) }}
                            {{ form_row(form.nom) }}
                            {{ form_row(form.telephone) }}
                            {{ form_row(form.mail) }}
                            {{ form_row(form.password) }}
                            {{ form_row(form.campus) }}
                            <button type="submit" class="btn btn-primary">Modifier</button>
                            {{ form_end((form)) }}
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-4">
                            <div class="card">
                                <div class="card-body">
                                    <h6 class="d-flex align-items-center mb-3">Nombre de sortie créée</h6>
                                    <div class="progress-container">
                                        <div class="progress mb-3" style="height: 5px;width: 75%">
                                            <div class="progress-bar bg-primary" role="progressbar"
                                                 style="width: {{ (countSortiesCreees * 100) / 5 }}%"></div>
                                        </div>
                                        <p>{{ countSortiesCreees }} / 5</p>
                                    </div>
                                    <div class="progress-container">
                                        <div class="progress mb-3" style="height: 5px;width: 75%">
                                            <div class="progress-bar bg-primary" role="progressbar"
                                                 style="width: {{ (countSortiesCreees * 100) / 10 }}%"></div>
                                        </div>
                                        <p>{{ countSortiesCreees }} / 10</p>
                                    </div>
                                    <div class="progress-container">
                                        <div class="progress mb-3" style="height: 5px;width: 75%">
                                            <div class="progress-bar bg-primary" role="progressbar"
                                                 style="width: {{ (countSortiesCreees * 100) / 15 }}%"></div>
                                        </div>
                                        <p>{{ countSortiesCreees }} / 15</p>
                                    </div>
                                    <div class="progress-container">
                                        <div class="progress mb-3" style="height: 5px;width: 75%">
                                            <div class="progress-bar bg-primary" role="progressbar"
                                                 style="width: {{ (countSortiesCreees * 100) / 20 }}%"></div>
                                        </div>
                                        <p>{{ countSortiesCreees }} / 20</p>
                                    </div>
                                    <div class="progress-container">
                                        <div class="progress mb-3" style="height: 5px;width: 75%">
                                            <div class="progress-bar bg-primary" role="progressbar"
                                                 style="width: {{ (countSortiesCreees * 100) / 25 }}%"></div>
                                        </div>
                                        <p>{{ countSortiesCreees }} / 25</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <div class="card">
                                <div class="card-body">
                                    <h6 class="d-flex align-items-center mb-3">Nombre de sortie participé</h6>
                                    <div class="progress-container">
                                        <div class="progress mb-3" style="height: 5px;width: 75%">
                                            <div class="progress-bar bg-primary" role="progressbar"
                                                 style="width: {{ (countSortiesInscrit * 100) / 10 }}%"></div>
                                        </div>
                                        <p>{{ countSortiesInscrit }} / 10</p>
                                    </div>
                                    <div class="progress-container">
                                        <div class="progress mb-3" style="height: 5px;width: 75%">
                                            <div class="progress-bar bg-primary" role="progressbar"
                                                 style="width: {{ (countSortiesInscrit * 100) / 15 }}%"></div>
                                        </div>
                                        <p>{{ countSortiesInscrit }} / 15</p>
                                    </div>
                                    <div class="progress-container">
                                        <div class="progress mb-3" style="height: 5px;width: 75%">
                                            <div class="progress-bar bg-primary" role="progressbar"
                                                 style="width: {{ (countSortiesInscrit * 100) / 20 }}%"></div>
                                        </div>
                                        <p>{{ countSortiesInscrit }} / 20</p>
                                    </div>
                                    <div class="progress-container">
                                        <div class="progress mb-3" style="height: 5px;width: 75%">
                                            <div class="progress-bar bg-primary" role="progressbar"
                                                 style="width: {{ (countSortiesInscrit * 100) / 30 }}%"></div>
                                        </div>
                                        <p>{{ countSortiesInscrit }} / 30</p>
                                    </div>
                                    <div class="progress-container">
                                        <div class="progress mb-3" style="height: 5px;width: 75%">
                                            <div class="progress-bar bg-primary" role="progressbar"
                                                 style="width: {{ (countSortiesInscrit * 100) / 50 }}%"></div>
                                        </div>
                                        <p>{{ countSortiesInscrit }} / 50</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <div class="card">
                                <div class="card-body">
                                    <h6 class="d-flex align-items-center mb-3">Nombre de sortie Annulée</h6>
                                    <div class="progress-container">
                                        <div class="progress mb-3" style="height: 5px;width: 75%">
                                            <div class="progress-bar bg-primary" role="progressbar"
                                                 style="width: {{ (countSortiesAnnulees * 100) / 1 }}%"></div>
                                        </div>
                                        <p>{{ countSortiesAnnulees }} / 1</p>
                                    </div>
                                    <div class="progress-container">
                                        <div class="progress mb-3" style="height: 5px;width: 75%">
                                            <div class="progress-bar bg-primary" role="progressbar"
                                                 style="width: {{ (countSortiesAnnulees * 100) / 2 }}%"></div>
                                        </div>
                                        <p>{{ countSortiesAnnulees }} / 2</p>
                                    </div>
                                    <div class="progress-container">
                                        <div class="progress mb-3" style="height: 5px;width: 75%">
                                            <div class="progress-bar bg-primary" role="progressbar"
                                                 style="width: {{ (countSortiesAnnulees * 100) / 5 }}%"></div>
                                        </div>
                                        <p>{{ countSortiesAnnulees }} / 5</p>
                                    </div>
                                    <div class="progress-container">
                                        <div class="progress mb-3" style="height: 5px;width: 75%">
                                            <div class="progress-bar bg-primary" role="progressbar"
                                                 style="width: {{ (countSortiesAnnulees * 100) / 7 }}%"></div>
                                        </div>
                                        <p>{{ countSortiesAnnulees }} / 7</p>
                                    </div>
                                    <div class="progress-container">
                                        <div class="progress mb-3" style="height: 5px;width: 75%">
                                            <div class="progress-bar bg-primary" role="progressbar"
                                                 style="width: {{ (countSortiesAnnulees * 100) / 10 }}%"></div>
                                        </div>
                                        <p>{{ countSortiesAnnulees }} / 10</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

{% endblock %}